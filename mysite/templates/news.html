<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ù–æ–≤–∏–Ω–∏ - MemeLand</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="{% url 'index' %}">ü§£ MemeLand</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'index' %}">–ì–æ–ª–æ–≤–Ω–∞</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'about' %}">–ü—Ä–æ –Ω–∞—Å</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'contact' %}">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'blog' %}">–ë–ª–æ–≥</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="{% url 'news' %}">–ù–æ–≤–∏–Ω–∏</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container mt-5">
      <h1 class="text-center mb-5">üì∞ –ù–æ–≤–∏–Ω–∏ MemeLand</h1>

      {% if news %}
      <div class="row">
        {% for item in news %}
        <div class="col-lg-6 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">{{ item.title }}</h5>
              <p class="text-muted small mb-2">
                <i class="bi bi-person"></i> {{ item.author }} |
                <i class="bi bi-calendar"></i> {{ item.date|date:"d.m.Y H:i" }}
              </p>
              <p class="card-text">{{ item.content|truncatewords:25 }}</p>
              {% if item.content|length > 150 %}
              <button
                class="btn btn-outline-primary btn-sm"
                data-bs-toggle="modal"
                data-bs-target="#newsModal{{ item.id }}"
              >
                –ß–∏—Ç–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é üìñ
              </button>
              {% endif %}
            </div>
          </div>
        </div>

        <!-- Modal –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É –Ω–æ–≤–∏–Ω–∏ -->
        <div class="modal fade" id="newsModal{{ item.id }}" tabindex="-1">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">{{ item.title }}</h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                ></button>
              </div>
              <div class="modal-body">
                <p class="text-muted small mb-3">
                  <i class="bi bi-person"></i> –ê–≤—Ç–æ—Ä: {{ item.author }} |
                  <i class="bi bi-calendar"></i> {{ item.date|date:"d.m.Y H:i"
                  }}
                </p>
                <div class="news-content">{{ item.content|linebreaks }}</div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  –ó–∞–∫—Ä–∏—Ç–∏
                </button>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <div class="text-center">
        <div class="card">
          <div class="card-body">
            <h3>üì∞ –ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –Ω–æ–≤–∏–Ω</h3>
            <p>
              –ù–∞—à–∞ —Ä–µ–¥–∞–∫—Ü—ñ—è –ø—Ä–∞—Ü—é—î –Ω–∞–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Å–≤—ñ–∂–∏—Ö –Ω–æ–≤–∏–Ω –ø—Ä–æ —Å–≤—ñ—Ç –º–µ–º—ñ–≤!
            </p>
            <p>
              –ü–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –ø—ñ–∑–Ω—ñ—à–µ –∞–±–æ
              <a href="{% url 'contact' %}">–∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏</a>, —è–∫—â–æ –º–∞—î—Ç–µ
              —Ü—ñ–∫–∞–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
            </p>
            <a href="{% url 'index' %}" class="btn btn-primary"
              >–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É</a
            >
          </div>
        </div>
      </div>
      {% endif %}
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="bg-dark text-white text-center py-4 mt-5">
      <div class="container">
        <p>&copy; 2025 MemeLand. –°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª—ñ–≤ –º–µ–º—ñ–≤.</p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
